---
# defaults file for ansible-role-nextcloud-docker

nd_docker_compose_project: "nextcloud"
nd_docker_compose_project_dir: "/tmp/{{ nd_docker_compose_project }}"
nd_docker_compose_project_src: "files/docker-compose"

# Service options.
nd_use_letsencrypt: false
nd_use_redis: true

nd_nextcloud_env_filename: "nextcloud.env"

nd_nextcloud_env_vars:
  - name: "VIRTUAL_HOST"
    value: ""
  - name: "MYSQL_HOST"
    value: "db"

nd_redis_env_vars:
  - name: "REDIS_HOST"
    value: "redis"

nd_mariadb_root_password: ""

nd_mariadb_env_vars:
  - name: "MYSQL_PASSWORD"
    value: ""
  - name: "MYSQL_DATABASE"
    value: "nextcloud"
  - name: "MYSQL_USER"
    value: "nextcloud"

nd_letsencrypt_env_vars:
  - name: "LETSENCRYPT_HOST"
    value: ""
  - name: "LETSENCRYPT_EMAIL"
    value: ""

nd_nextcloud_occ_prefix: >-
  docker exec --user www-data {{ nd_docker_compose_project }}_app_1

nd_nextcloud_admin_user: ""
nd_nextcloud_admin_password: ""

nd_nextcloud_trusted_domains: []

nd_nextcloud_occ_install: >
  php occ maintenance:install
  --admin-user="{{ nd_nextcloud_admin_user }}"
  --admin-pass="{{ nd_nextcloud_admin_password }}"

nd_nextcloud_encryption_module: "encryption"
